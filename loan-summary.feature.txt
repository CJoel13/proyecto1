Feature: Consulta de saldos para prestamos personales

Background:
    configure ssl = true
    host: "http://personal-loan-summary
    path: /api/v1/loan-retrieve
    And def headers = apiHeaders


Scenario Outline: <caseId> Validar que el API retorne el detalle de un prestamo personal tipo <prodDefinition>
    Given url host+path
    And headers headers
    When post
    Then status 200
    And match response.param1 == "valor1"
    And match response.param2 == "valor2".
    Examples:
        |caseId |prodDefinition |
        |001    |Installment    |
        |002    |Redisposal     |

Scenario Outline: <caseId> Validar que el API retorne el detalle de un prestamo personal tipo <prodDefinition> con los campos obligatorios
    Given url host+path
    And headers headers
    And set request.field1 = "1"
    When post
    Then status 200
    And match response.param1 == "valor1"
    Examples
        |caseId |prodDefinition |
        |001    |Installment    |
        |002    |Redisposal     |